def main():
    # Auto-refresco cada 5 minutos (opcional)
    if 'last_refresh' not in st.session_state:
        st.session_state.last_refresh = datetime.now()

    if st.sidebar.button("üîÑ Refrescar Datos Ahora"):
        st.cache_data.clear()
        st.session_state.last_refresh = datetime.now()
        st.rerun()

    # Refresco autom√°tico cada 5 minutos
    if (datetime.now() - st.session_state.last_refresh).seconds > 300:
        st.cache_data.clear()
        st.session_state.last_refresh = datetime.now()
        st.rerun()



@st.cache_data(ttl=30, show_spinner=False)  # Refresco cada 30 segundos


with st.sidebar:
    st.markdown("**√öltima actualizaci√≥n:**")
    st.markdown(f"`{st.session_state.last_refresh.strftime('%H:%M:%S')}`")

st.session_state.df_filtrado = df[...]
